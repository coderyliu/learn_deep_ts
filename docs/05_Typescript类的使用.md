# Typescript类的使用

### 认识类的使用

在早期的JavaScript开发中（ES5）我们需要通过函数和原型链来实现类和继承，从ES6开始，引入了class关键字，可以更加方便的定义和使用类。

TypeScript作为JavaScript的超集，也是支持使用class关键字的，并且还可以对类的属性和方法等进行静态类型检测。

实际上在JavaScript的开发过程中，我们更加习惯于函数式编程：

- 比如React开发中，目前更多使用的函数组件以及结合Hook的开发模式；
- 比如在Vue3开发中，目前也更加推崇使用 Composition API； 

但是在封装某些业务的时候，类具有更强大封装性，所以我们也需要掌握它们。

类的定义我们通常会使用class关键字：

- 在面向对象的世界里，任何事物都可以使用类的结构来描述；
- 类中包含特有的属性和方法；



### 类的定义

**我们来定义一个Person类：**使用class关键字来定义一个类；

我们可以声明一些类的属性：在类的内部声明类的属性以及对应的类型

- 如果类型没有声明，那么它们默认是any的；
- 我们也可以给属性设置初始化值；
- 在默认的strictPropertyInitialization模式下面我们的属性是必须初始化的，如果没有初始化，那么编译时就会报错；如果我们在strictPropertyInitialization模式下确实不希望给属性初始化，可以使用 name!: string法；

类可以有自己的构造函数constructor，当我们通过new关键字创建一个实例时，构造函数会被调用；

- 构造函数不需要返回任何值，默认返回当前创建出来的实例；

类中可以有自己的函数，定义的函数称之为方法；

![image-20220305102814118](D:\截图\13_Typescript(二)\image-20220305102814118.png)



### 类的继承

**面向对象的其中一大特性就是继承，继承不仅仅可以减少我们的代码量，也是多态的使用前提**。

**我们使用extends关键字来实现继承，子类中使用super来访问父类**。

我们来看一下Student类继承自Person： 

- Student类可以有自己的属性和方法，并且会继承Person的属性和方法；
- 在构造函数中，我们可以通过super来调用父类的构造方法，对父类中的属性进行初始化；

![image-20220305104718856](D:\截图\13_Typescript(二)\image-20220305104718856.png)



### 类的成员修饰符

在TypeScript中，类的属性和方法支持三种修饰符： public、private、protected

- public 修饰的是在任何地方可见、公有的属性或方法，默认编写的属性就是public的；
- private 修饰的是仅在同一类中可见、私有的属性或方法；
- protected 修饰的是仅在类自身及子类中可见、受保护的属性或方法；

public是默认的修饰符，也是可以直接访问的，我们这里来演示一下protected和private。

![image-20220305115302004](D:\截图\13_Typescript(二)\image-20220305115302004.png)



### 只读属性readonly

如果有一个属性我们不希望外界可以任意的修改，只希望确定值后直接使用，那么可以使用readonly：

![image-20220305120516225](D:\截图\13_Typescript(二)\image-20220305120516225.png)



### getters/setters

在前面一些私有属性我们是不能直接访问的，或者某些属性我们想要监听它的获取(getter)和设置(setter)的过程，

这个时候我们可以使用存取器。

![image-20220305120702380](D:\截图\13_Typescript(二)\image-20220305120702380.png)



### 静态成员

前面我们在类中定义的成员和方法都属于对象级别的, 在开发中, 我们有时候也需要定义类级别的成员和方法。 

在TypeScript中通过关键字static来定义：

![image-20220305120756334](D:\截图\13_Typescript(二)\image-20220305120756334.png)



### 抽象类abstract

我们知道，继承是多态使用的前提。

所以在定义很多通用的**调用接口时, 我们通常会让调用者传入父类，通过多态来实现更加灵活的调用方式。**

**但是，父类本身可能并不需要对某些方法进行具体的实现，所以父类中定义的方法,，我们可以定义为抽象方法。**

**什么是 抽象方法? 在TypeScript中没有具体实现的方法(没有方法体)，就是抽象方法。**

- 抽象方法，必须存在于抽象类中；
- 抽象类是使用abstract声明的类；
- 抽象类有如下的特点：
  - 抽象类是不能被实例的话（也就是不能通过new创建） 
  - 抽象方法必须被子类实现，否则该类必须是一个抽象类；

![image-20220305123829647](D:\截图\13_Typescript(二)\image-20220305123829647.png)



### 类的类型

类本身也是可以作为一种数据类型的：

![image-20220305123910274](D:\截图\13_Typescript(二)\image-20220305123910274.png)